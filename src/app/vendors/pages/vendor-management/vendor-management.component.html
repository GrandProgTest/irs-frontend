<div class="table-wrapper">
  <h1 class="title">Proveedores</h1>

  <app-vendor-create-edit-delete class="vendor-section" (editCanceled)="onCancelEdit()"
                                 (vendorAdded)="onVendorAdded($event)"
                                 (vendorUpdated)="onVendorUpdated($event)"
                                 [editMode]="isEditMode"
                                 [vendor]="vendorData"/>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
    <ng-container matColumnDef="businessName">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Razón Social</th>
      <td *matCellDef="let element" mat-cell>{{ element.businessName }}</td>
    </ng-container>
    <ng-container matColumnDef="tradeName">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Nombre Comercial</th>
      <td *matCellDef="let element" mat-cell>{{ element.tradeName }}</td>
    </ng-container>
    <ng-container matColumnDef="taxId">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Identificación Tributaria</th>
      <td *matCellDef="let element" mat-cell>{{ element.taxId }}</td>
    </ng-container>
    <ng-container matColumnDef="phoneNumber">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Número Telefónico</th>
      <td *matCellDef="let element" mat-cell>{{ element.phoneNumber }}</td>
    </ng-container>
    <ng-container matColumnDef="email">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Correo Electrónico</th>
      <td *matCellDef="let element" mat-cell>{{ element.email }}</td>
    </ng-container>
    <ng-container matColumnDef="website">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Sitio Web</th>
      <td *matCellDef="let element" mat-cell>{{ element.website }}</td>
    </ng-container>
    <ng-container matColumnDef="address">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Dirección Física</th>
      <td *matCellDef="let element" mat-cell>{{ element.address }}</td>
    </ng-container>
    <ng-container matColumnDef="country">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>País</th>
      <td *matCellDef="let element" mat-cell>{{ element.country }}</td>
    </ng-container>
    <ng-container matColumnDef="annualBilling">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Facturación Anual (Dólares)</th>
      <td *matCellDef="let element" mat-cell>$ {{ element.annualBilling }}</td>
    </ng-container>
    <ng-container matColumnDef="updatedDate">
      <th *matHeaderCellDef mat-header-cell mat-sort-header>Fecha de Última Edición</th>
      <td *matCellDef="let element" mat-cell>{{ formatDate(element.updatedDate) }}</td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th *matHeaderCellDef mat-header-cell> Acciones</th>
      <td *matCellDef="let element" mat-cell>
        <a (click)="onEditItem(element)" href="javascript:void(0)"><mat-icon>edit</mat-icon></a>
        <a (click)="confirmDelete(element)" href="javascript:void(0)"><mat-icon>delete</mat-icon></a>
        <a (click)="onScreening(element)" href="javascript:void(0)" class="screening-button">
          <mat-icon>search</mat-icon> Screening
        </a>
      </td>
    </ng-container>
    <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
    <tr *matRowDef="let row; columns:displayedColumns" [ngClass]="{'editable-row': vendorData.id === row.id }" mat-row></tr>
  </table>
  <mat-paginator [pageSizeOptions]="[5, 10, 15]" [pageSize]="5" showFirstLastButtons></mat-paginator>
</div>
